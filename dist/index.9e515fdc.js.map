{"mappings":"YAAO,IAAMA,EAAQ,CACnBC,SAAS,EAETC,OAAQ,CAAC,EAAG,GAEZC,aAAc,CACZC,OAAQ,EACRC,aAAc,IAILC,EAAgB,WAE3BN,EAAMG,aAAaC,OAAuC,IAA9BJ,EAAMG,aAAaC,OAAe,EAAI,YCb3DG,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,eCNVO,EAAKD,EAAKE,GAYhD,OAXIF,KAAOC,EACTH,OAAOC,eAAeE,EAAKD,EAAK,CAC9BE,MAAOA,EACPP,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZI,EAAID,GAAOE,EAGND,ECZT,IAAME,EAAcC,SAASC,cAAc,SAErCC,EAAUF,SAASC,cAAc,cACjCE,EAAUH,SAASC,cAAc,cACjCG,EAASJ,SAASC,cAAc,aAgFtCI,EAAe,IA9Ef,iCAAMC,cCNkCC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,2CDIlBH,UACJ,aAAA,UACA,yBAAA,UACA,uBAAA,OFCmCE,EAAaE,EAAYC,SAAzBH,EEJ/BF,GFI4CI,EEJlC,EAKdd,IAAA,8BAAA,SAAsBgB,GACpBC,KAAKC,MAAQF,EAEbC,KAAKE,MAAM,QAAS,GAAGC,YAAc,EACrCH,KAAKE,MAAM,QAAS,GAAGC,YAAc,EAErCjB,EAAYkB,UAAUC,IAAI,UAC1BL,KAAKE,MAAM,SAAUF,KAAKC,MAAMhC,QAAQmC,UAAUC,IAAI,qBAGxDtB,IAAA,oBAAA,SAAYuB,GACVpB,EAAYkB,UAAUG,OAAO,UAC7BrB,EAAYsB,IAAO,cAAkBC,OAALH,EAAK,WAGvCvB,IAAA,4BAAA,SAAoB2B,GAClBV,KAAKE,MAAM,UAAWF,KAAKC,MAAMhC,QAAQkC,YAAcO,EAAM,MAG/D3B,IAAA,qBAAA,SAAa2B,GACXV,KAAKE,MAAM,QAASF,KAAKC,MAAMhC,QAAQkC,YAAcO,EAAM,MAG7D3B,IAAA,6BAAA,WACEiB,KAAKE,MAAM,SAAU,GAAGE,UAAUO,OAAO,kBAEzCX,KAAKE,MAAM,SAAU,GAAGE,UAAUO,OAAO,qBAG3C5B,IAAA,uBAAA,SAAe6B,GACbvB,EAAQwB,iBAAiB,QAASD,MAGpC7B,IAAA,uBAAA,SAAe6B,GACbtB,EAAQuB,iBAAiB,QAASD,MAGpC7B,IAAA,0BAAA,SAAkB+B,GAChBvB,EAAOsB,iBAAiB,QAASC,MAGnC/B,IAAA,wBAAA,WACEG,EAAYkB,UAAUC,IAAI,UAE1BL,KAAKE,MAAM,SAAUF,KAAKC,MAAMhC,QAAQmC,UAAUG,OAAO,kBACzDP,KAAKE,MAAM,SAAUF,KAAKC,MAAMhC,QAAQmC,UAAUC,IAAI,qBAGxDtB,IAAA,mBAAA,WACEiB,KAAKE,MAAM,SAAUF,KAAKC,MAAMhC,QAAQmC,UAAUG,OAAO,qBAG3DxB,IAAA,cAAA,SAAMgC,EAAML,GACV,IAAIM,EAEJ,OAAQD,GACN,IAAK,QACHC,EAAU,WAAcP,OAAJC,GACpB,MAEF,IAAK,UACHM,EAAU,aAAgBP,OAAJC,GACtB,cAGAM,EAAU,YAAeP,OAAJC,GAIzB,OAAOvB,SAASC,cAAc4B,QFrEhB5C,EAAkBuB,EAAYsB,UAAWpB,GACrDC,GAAa1B,EAAkBuB,EAAaG,GEN5CL,EAAN,IEHMyB,EAAc,WAClB,GAAIrD,EAAYC,QAAS,CAEvB,IAAMwC,EAAOa,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EAG7C7B,EAAW8B,YAAYhB,GAGV,IAATA,GAEFzC,EAAYG,aAAaE,cAAgBoC,EACzCd,EAAW+B,oBAAoB1D,EAAYG,aAAaE,gBAGxDsB,EAAW+B,oBAAoB,GAC/B1D,EAAYG,aAAaE,aAAe,EAGxCC,IACAqB,EAAWgC,0BAKXC,EAAc,WACd5D,EAAYC,UAEdD,EAAYE,OAAOF,EAAYG,aAAaC,SAC1CJ,EAAYG,aAAaE,aAG3BsB,EAAW+B,oBAAoB,GAC/B1D,EAAYG,aAAaE,aAAe,EAGxCsB,EAAWkC,aACT7D,EAAYE,OAAOF,EAAYG,aAAaC,SAI1CJ,EAAYE,OAAOF,EAAYG,aAAaC,SAAW,IACzDJ,EAAYC,SAAU,EACtB0B,EAAWmC,oBAEXxD,IACAqB,EAAWgC,0BAKXI,EAAiB,WAChB/D,EAAYC,UACf0B,EAAWqC,aAEXhE,EAAYG,aAAaC,OAAS,EAElCuB,EAAWsC,sBAAsBjE,EAAYG,cAE7CH,EAAYC,SAAU,EAEtBD,EAAYE,OAAS,CAAC,EAAG,KAK3ByB,EAAWsC,sBAAsBjE,EAAYG,cAC7CwB,EAAWuC,eAAeb,GAC1B1B,EAAWwC,eAAeP,GAC1BjC,EAAWyC,kBAAkBL","sources":["src/js/model.js","node_modules/@parcel/transformer-js/node_modules/@swc/helpers/src/_create_class.js","node_modules/@parcel/transformer-js/node_modules/@swc/helpers/src/_define_property.js","src/js/views/playerView.js","node_modules/@parcel/transformer-js/node_modules/@swc/helpers/src/_class_call_check.js","src/js/controller.js"],"sourcesContent":["export const state = {\r\n  playing: true,\r\n\r\n  scores: [0, 0],\r\n\r\n  activePlayer: {\r\n    player: 0,\r\n    currentScore: 0,\r\n  },\r\n};\r\n\r\nexport const switchPlayers = function () {\r\n  // changing the player\r\n  state.activePlayer.player = state.activePlayer.player === 0 ? 1 : 0;\r\n};\r\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","const diceElement = document.querySelector('.dice');\r\n\r\nconst btnRoll = document.querySelector('.btn--roll');\r\nconst btnHold = document.querySelector('.btn--hold');\r\nconst btnNew = document.querySelector('.btn--new');\r\n\r\nclass PlayerView {\r\n  _data;\r\n  _currentContainer;\r\n  _scoreContainer;\r\n\r\n  setStartingConditions(data) {\r\n    this._data = data;\r\n\r\n    this._pick('score', 0).textContent = 0;\r\n    this._pick('score', 1).textContent = 0;\r\n\r\n    diceElement.classList.add('hidden');\r\n    this._pick('player', this._data.player).classList.add('player--active');\r\n  }\r\n\r\n  displayDice(dice) {\r\n    diceElement.classList.remove('hidden');\r\n    diceElement.src = `icons/dice-${dice}.png`;\r\n  }\r\n\r\n  displayCurrentScore(num) {\r\n    this._pick('current', this._data.player).textContent = num + '';\r\n  }\r\n\r\n  displayScore(num) {\r\n    this._pick('score', this._data.player).textContent = num + '';\r\n  }\r\n\r\n  displaySwitchPlayers() {\r\n    this._pick('player', 0).classList.toggle('player--active');\r\n\r\n    this._pick('player', 1).classList.toggle('player--active');\r\n  }\r\n\r\n  addHandlerRoll(handler) {\r\n    btnRoll.addEventListener('click', handler);\r\n  }\r\n\r\n  addHandlerHold(handler) {\r\n    btnHold.addEventListener('click', handler);\r\n  }\r\n\r\n  addHandlerNewGame(hadnler) {\r\n    btnNew.addEventListener('click', hadnler);\r\n  }\r\n\r\n  displayGameOver() {\r\n    diceElement.classList.add('hidden');\r\n\r\n    this._pick('player', this._data.player).classList.remove('player--active');\r\n    this._pick('player', this._data.player).classList.add('player--winner');\r\n  }\r\n\r\n  hideWinner() {\r\n    this._pick('player', this._data.player).classList.remove('player--winner');\r\n  }\r\n\r\n  _pick(item, num) {\r\n    let string;\r\n\r\n    switch (item) {\r\n      case 'score':\r\n        string = `#score--${num}`;\r\n        break;\r\n\r\n      case 'current':\r\n        string = `#current--${num}`;\r\n        break;\r\n\r\n      default:\r\n        string = `.player--${num}`;\r\n        break;\r\n    }\r\n\r\n    return document.querySelector(string);\r\n  }\r\n}\r\n\r\nexport default new PlayerView();\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import * as model from './model.js';\nimport playerView from './views/playerView.js';\n\nconst controlRoll = function () {\n  if (model.state.playing) {\n    // 1. Generating a random dice roll\n    const dice = Math.trunc(Math.random() * 6) + 1;\n\n    // 2. Displaying the dice\n    playerView.displayDice(dice);\n\n    // 3. Checking for rolled 1\n    if (dice !== 1) {\n      // Adding dice to the current score\n      model.state.activePlayer.currentScore += dice;\n      playerView.displayCurrentScore(model.state.activePlayer.currentScore);\n    } else {\n      // Setting currentScor to 0\n      playerView.displayCurrentScore(0);\n      model.state.activePlayer.currentScore = 0;\n\n      // Switching the players\n      model.switchPlayers();\n      playerView.displaySwitchPlayers();\n    }\n  }\n};\n\nconst controlHold = function () {\n  if (model.state.playing) {\n    // Adding to the scores array\n    model.state.scores[model.state.activePlayer.player] +=\n      model.state.activePlayer.currentScore;\n\n    // Setting currentScor to 0\n    playerView.displayCurrentScore(0);\n    model.state.activePlayer.currentScore = 0;\n\n    // Displaying the score\n    playerView.displayScore(\n      model.state.scores[model.state.activePlayer.player]\n    );\n\n    // Checking if there is a winner\n    if (model.state.scores[model.state.activePlayer.player] >= 20) {\n      model.state.playing = false;\n      playerView.displayGameOver();\n    } else {\n      model.switchPlayers();\n      playerView.displaySwitchPlayers();\n    }\n  }\n};\n\nconst controlNewGame = function () {\n  if (!model.state.playing) {\n    playerView.hideWinner();\n\n    model.state.activePlayer.player = 0;\n\n    playerView.setStartingConditions(model.state.activePlayer);\n\n    model.state.playing = true;\n\n    model.state.scores = [0, 0];\n  }\n};\n\nconst init = function () {\n  playerView.setStartingConditions(model.state.activePlayer);\n  playerView.addHandlerRoll(controlRoll);\n  playerView.addHandlerHold(controlHold);\n  playerView.addHandlerNewGame(controlNewGame);\n};\n\ninit();\n"],"names":["$f8d8f517afbd18c2$export$ca000e230c0caa3e","playing","scores","activePlayer","player","currentScore","$f8d8f517afbd18c2$export$2f31b229156e6a6","$49e1a7a0557493e8$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","obj","value","$b4b42f406a02efd7$var$diceElement","document","querySelector","$b4b42f406a02efd7$var$btnRoll","$b4b42f406a02efd7$var$btnHold","$b4b42f406a02efd7$var$btnNew","$b4b42f406a02efd7$export$2e2bcd8739ae039","$b4b42f406a02efd7$var$PlayerView","instance","Constructor","TypeError","protoProps","staticProps","data","this","_data","_pick","textContent","classList","add","dice","remove","src","concat","num","toggle","handler","addEventListener","hadnler","item","string","prototype","$528987a263eb78d0$var$controlRoll","Math","trunc","random","displayDice","displayCurrentScore","displaySwitchPlayers","$528987a263eb78d0$var$controlHold","displayScore","displayGameOver","$528987a263eb78d0$var$controlNewGame","hideWinner","setStartingConditions","addHandlerRoll","addHandlerHold","addHandlerNewGame"],"version":3,"file":"index.9e515fdc.js.map"}