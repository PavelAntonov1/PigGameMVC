{"mappings":"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","sources":["src/js/model.js","node_modules/@parcel/transformer-js/node_modules/@swc/helpers/src/_define_property.js","src/js/views/playerView.js","src/js/controller.js"],"sourcesContent":["export const state = {\r\n  playing: true,\r\n\r\n  scores: [0, 0],\r\n\r\n  activePlayer: {\r\n    player: 0,\r\n    currentScore: 0,\r\n  },\r\n};\r\n\r\nexport const switchPlayers = function () {\r\n  // changing the player\r\n  state.activePlayer.player = state.activePlayer.player === 0 ? 1 : 0;\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","const diceElement = document.querySelector('.dice');\r\n\r\nconst btnRoll = document.querySelector('.btn--roll');\r\nconst btnHold = document.querySelector('.btn--hold');\r\nconst btnNew = document.querySelector('.btn--new');\r\n\r\nclass PlayerView {\r\n  _data;\r\n  _currentContainer;\r\n  _scoreContainer;\r\n\r\n  setStartingConditions(data) {\r\n    this._data = data;\r\n\r\n    this._pick('score', 0).textContent = 0;\r\n    this._pick('score', 1).textContent = 0;\r\n\r\n    diceElement.classList.add('hidden');\r\n    this._pick('player', this._data.player).classList.add('player--active');\r\n  }\r\n\r\n  displayDice(dice) {\r\n    diceElement.classList.remove('hidden');\r\n    diceElement.src = `icons/dice-${dice}.png`;\r\n  }\r\n\r\n  displayCurrentScore(num) {\r\n    this._pick('current', this._data.player).textContent = num + '';\r\n  }\r\n\r\n  displayScore(num) {\r\n    this._pick('score', this._data.player).textContent = num + '';\r\n  }\r\n\r\n  displaySwitchPlayers() {\r\n    this._pick('player', 0).classList.toggle('player--active');\r\n\r\n    this._pick('player', 1).classList.toggle('player--active');\r\n  }\r\n\r\n  addHandlerRoll(handler) {\r\n    btnRoll.addEventListener('click', handler);\r\n  }\r\n\r\n  addHandlerHold(handler) {\r\n    btnHold.addEventListener('click', handler);\r\n  }\r\n\r\n  addHandlerNewGame(hadnler) {\r\n    btnNew.addEventListener('click', hadnler);\r\n  }\r\n\r\n  displayGameOver() {\r\n    diceElement.classList.add('hidden');\r\n\r\n    this._pick('player', this._data.player).classList.remove('player--active');\r\n    this._pick('player', this._data.player).classList.add('player--winner');\r\n  }\r\n\r\n  hideWinner() {\r\n    this._pick('player', this._data.player).classList.remove('player--winner');\r\n  }\r\n\r\n  _pick(item, num) {\r\n    let string;\r\n\r\n    switch (item) {\r\n      case 'score':\r\n        string = `#score--${num}`;\r\n        break;\r\n\r\n      case 'current':\r\n        string = `#current--${num}`;\r\n        break;\r\n\r\n      default:\r\n        string = `.player--${num}`;\r\n        break;\r\n    }\r\n\r\n    return document.querySelector(string);\r\n  }\r\n}\r\n\r\nexport default new PlayerView();\r\n","import * as model from './model.js';\nimport playerView from './views/playerView.js';\n\nconst controlRoll = function () {\n  if (model.state.playing) {\n    // 1. Generating a random dice roll\n    const dice = Math.trunc(Math.random() * 6) + 1;\n\n    // 2. Displaying the dice\n    playerView.displayDice(dice);\n\n    // 3. Checking for rolled 1\n    if (dice !== 1) {\n      // Adding dice to the current score\n      model.state.activePlayer.currentScore += dice;\n      playerView.displayCurrentScore(model.state.activePlayer.currentScore);\n    } else {\n      // Setting currentScor to 0\n      playerView.displayCurrentScore(0);\n      model.state.activePlayer.currentScore = 0;\n\n      // Switching the players\n      model.switchPlayers();\n      playerView.displaySwitchPlayers();\n    }\n  }\n};\n\nconst controlHold = function () {\n  if (model.state.playing) {\n    // Adding to the scores array\n    model.state.scores[model.state.activePlayer.player] +=\n      model.state.activePlayer.currentScore;\n\n    // Setting currentScor to 0\n    playerView.displayCurrentScore(0);\n    model.state.activePlayer.currentScore = 0;\n\n    // Displaying the score\n    playerView.displayScore(\n      model.state.scores[model.state.activePlayer.player]\n    );\n\n    // Checking if there is a winner\n    if (model.state.scores[model.state.activePlayer.player] >= 20) {\n      model.state.playing = false;\n      playerView.displayGameOver();\n    } else {\n      model.switchPlayers();\n      playerView.displaySwitchPlayers();\n    }\n  }\n};\n\nconst controlNewGame = function () {\n  if (!model.state.playing) {\n    playerView.hideWinner();\n\n    model.state.activePlayer.player = 0;\n\n    playerView.setStartingConditions(model.state.activePlayer);\n\n    model.state.playing = true;\n\n    model.state.scores = [0, 0];\n  }\n};\n\nconst init = function () {\n  playerView.setStartingConditions(model.state.activePlayer);\n  playerView.addHandlerRoll(controlRoll);\n  playerView.addHandlerHold(controlHold);\n  playerView.addHandlerNewGame(controlNewGame);\n};\n\ninit();\n"],"names":["$e8f25d1b971fa44a$export$ca000e230c0caa3e","playing","scores","activePlayer","player","currentScore","$e8f25d1b971fa44a$export$2f31b229156e6a6","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$65733433aab18e02$var$diceElement","document","querySelector","$65733433aab18e02$var$btnRoll","$65733433aab18e02$var$btnHold","$65733433aab18e02$var$btnNew","$65733433aab18e02$export$2e2bcd8739ae039","setStartingConditions","data","this","_data","_pick","textContent","classList","add","displayDice","dice","remove","src","displayCurrentScore","num","displayScore","displaySwitchPlayers","toggle","addHandlerRoll","handler","addEventListener","addHandlerHold","addHandlerNewGame","hadnler","displayGameOver","hideWinner","item","string","$150b328888388cd7$var$controlRoll","Math","trunc","random","$150b328888388cd7$var$controlHold","$150b328888388cd7$var$controlNewGame"],"version":3,"file":"index.fb448c22.js.map"}